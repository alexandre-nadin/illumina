#!/usr/bin/env bash

#
# Checks if the user is currently in a computational node.
# If there is no job scheduler, considers login and computational nodes are the same.
#
hasJobScheduler()
{
  type pbsnodes &> /dev/null \
  || type sinfo &> /dev/null
}

isSlurmNode() 
{
  [ ! -z ${SLURM_JOB_NODELIST} ]
}

isPBSNode()
{
  [ ! -z ${PBS_JOBID:+x} ]
}

! hasJobScheduler || isSlurmNode || isPBSNode
